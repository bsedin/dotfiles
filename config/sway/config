# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

# styles - set the folder for your theme definition file
set $theme $HOME/.local/share/sway/themes/my-gruvbox

# theme variables
include $theme/theme.conf

# global variables
include $HOME/.config/sway/definitions

include $HOME/.config/sway/inputs/*

# enable modes
include $HOME/.config/sway/modes/*

include $HOME/.config/sway/autostart

include $HOME/.config/sway/config.d/*

gaps inner 6
smart_gaps on

default_border pixel 1
default_floating_border pixel 1
hide_edge_borders smart
focus_follows_mouse no
mouse_warping container

workspace_auto_back_and_forth no
workspace_layout default

# only enable this if every app you use is compatible with wayland
# xwayland disable

# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4
# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l
# Your preferred application launcher

### Output configuration
#
# Default wallpaper (more resolutions are available in /usr/share/backgrounds/sway/)
# output * bg $HOME/.local/share/wallpapers/20250607_192951_D4E78119.jpg fill
# output DP-1 pos 0 0
# output eDP-1 pos 3840 2160
# output HDMI-A-1 pos 0 2160
# focus output DP-1
# bindswitch lid:on output eDP-1 disable
# bindswitch lid:off output eDP-1 enable

#
# Example configuration:
#
#   output HDMI-A-1 resolution 1920x1080 position 1920,0
#
# You can get the names of your outputs by running: swaymsg -t get_outputs

### Idle configuration
#
# Example configuration:
#
# exec swayidle -w \
#          timeout 300 'swaylock -f -c 000000' \
#          timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
#          before-sleep 'swaylock -f -c 000000'
#
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

exec swayidle -w \
         timeout 300 $locking \
         timeout 600 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
         before-sleep $locking


for_window [class="(?i)firefox"] move container to workspace $ws1
for_window [title="(?i)Picture-in-Picture"] floating enable border none
for_window [class="(?i)telegram"] move container to workspace $ws2
for_window [class="mpv"] floating enable border none
for_window [class="(?i)zooout"] floating enable
for_window [class="(?i)netsurf"] floating enable
for_window [class="(?i)proton-bridge"] move container to workspace $ws9 floating enable border none
for_window [class="(?i)easyeffects"] move container to workspace $ws10
# for_window [class="(?i)xterm-256color"] border none

# for_window [class="(?i)cadence"] move container to workspace $ws7 floating enable
# for_window [class="(?i)catia"] move container to workspace $ws7 floating enable
# for_window [class="(?i)reaper"] move container to workspace $ws7
# for_window [class="(?i)renoise"] move container to workspace $ws7
for_window [class="(?i)uvi"] floating enable
for_window [class="(?i)arturia"] floating enable
for_window [class="(?i)ilok"] floating enable

for_window [class="Space"] floating enable


#######################
#### sway appearance ####
#######################
font pango:DejaVu Sans Condensed Bold 8

#
# Utilities:
#
    # Special keys to adjust volume via PulseAudio
    bindsym --locked XF86AudioMute exec pactl set-sink-mute \@DEFAULT_SINK@ toggle
    bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume \@DEFAULT_SINK@ -5%
    bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume \@DEFAULT_SINK@ +5%
    bindsym --locked XF86AudioMicMute exec pactl set-source-mute \@DEFAULT_SOURCE@ toggle
    # Special keys to adjust brightness via brightnessctl
    bindsym --locked XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym --locked XF86MonBrightnessUp exec brightnessctl set 5%+
    # Special key to take a screenshot with grim
    # bindsym Print exec grim

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar {
    # Execute Waybar; Waybar restarts when Sway reloads.
    status_command $HOME/.local/share/sway/scripts/waybar.sh

    # Hide Sway's builtin status bar.
    mode invisible
}

bindsym $mod+z exec $locking
# bindsym $mod+x exec "taskwarrior_stop"
# bindsym $mod+Shift+z exec "suspend-and-lock"

bindsym XF86MonBrightnessUp exec --no-startup-id /usr/bin/light -A 5
bindsym XF86MonBrightnessDown exec --no-startup-id /usr/bin/light -U 5

bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +3%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -3%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle

# bindsym $mod+Shift+o exec "display_switch"

bindsym $mod+minus exec "makoctl dismiss"
bindsym $mod+equal exec "makoctl restore"

bindsym $mod+F4 exec "$term edit_project"
bindsym $mod+v exec "passmenu"
bindsym $mod+Shift+v exec "passotpmenu"

exec --no-startup-id xautorun
